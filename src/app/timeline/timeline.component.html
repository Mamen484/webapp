<div class="timeline">
    <span class="mat-caption heading-date">Missed updates</span>
    <md-card class="update">
        <md-list>
            <md-list-item *ngFor="let update of updates">

                <div class="event-icon">
                    <md-icon *ngIf="update.type === updateTypes.export">file_upload</md-icon>
                    <md-icon *ngIf="update.type === updateTypes.import">file_download</md-icon>
                </div>
                <div class="channel-name" *ngIf="update.type === updateTypes.import">
                    Source feed
                </div>
                <div class="channel-name" *ngIf="update.type === updateTypes.export">
                    {{update._embedded.channel[0].name}}
                </div>
                <div class="event-description sf-fill-space">
                    <span *ngIf="update.operation === updateOperations.start">In progress</span>
                    <span *ngIf="update.operation === updateOperations.ask">Scheduled</span>
                    <span *ngIf="update.operation === updateOperations.finish">Completed</span>
                </div>
                <div class="event-time">{{update.occurredAt | date:"HH:mm"}}</div>
            </md-list-item>
        </md-list>
    </md-card>

    <div *ngFor="let eventsGroup of events">
        <span class="mat-caption heading-date">{{eventsGroup[0] | date:'EEEE MMMM d y'}}</span>
        <md-card class="event">
            <md-list>
                <md-list-item *ngFor="let event of eventsGroup[1]">

                    <div class="event-icon">
                        <md-icon>{{event.icon}}</md-icon>
                    </div>
                    <sf-order-event [reference]="event.reference" [operation]="event.operation"
                                    class="event-description sf-fill-space"
                                    *ngIf="event.type === eventTypes.orderLifecycle"></sf-order-event>
                    <sf-rule-event [ruleName]="event.ruleName" [operation]="event.operation"
                                   class="event-description sf-fill-space"
                                   *ngIf="event.type === eventTypes.ruleSegmantation || event.type === eventTypes.ruleTransformation"></sf-rule-event>
                    <div class="event-time">{{event.time | date:"HH:mm"}}</div>

                </md-list-item>
            </md-list>
        </md-card>
    </div>
</div>