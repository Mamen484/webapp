<div *ngIf="autotagList?.length">
    <mat-card class="mat-elevation-z0 sf-card-outlined">
        <mat-card-content>
            <form #form="ngForm">
                <div class="autotags-list" fxLayout="column" fxLayoutGap="20px">
                    <div class="mat-subheading-2 attributes-mapping-heading" i18n>Required attributes</div>
                    <ng-container *ngFor="let autotag of autotagList; index as i">
                        <sf-autotag-input *ngIf="!autotag._embedded.attribute.constraintGroupId"
                                          (changed)="setAutotagValue(autotag, $event)" [label]="autotag._embedded.attribute.name"
                                          [value]="autotag.value" ngModel name="autotag{{i}}"></sf-autotag-input>
                        <sf-autotag-dropdown *ngIf="autotag._embedded.attribute.constraintGroupId"
                                             [value]="autotag.value" (changed)="setAutotagValue(autotag, $event)"
                                             [attribute]="autotag._embedded.attribute"
                                             ngModel name="autotag{{i}}"></sf-autotag-dropdown>
                    </ng-container>
                </div>
                <div class="actions" fxLayout="row" fxLayoutAlign="end center">
                    <button mat-raised-button i18n color="accent" (click)="saveMatching()">
                        Save
                    </button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>
